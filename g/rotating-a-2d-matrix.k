#!../k
/https://codegolf.stackexchange.com/questions/111991/rotating-a-2d-matrix/217637#217637
f:{(,()){(,y),+|x}/|,/{1_{1_y,*x}':x,,*x}'0N 4#-1_*'(|+1_)\x}/

\l 0.k
T[(2;(1 2 3 4;5 6 7 8;9 10 11 12;13 14 15 16));(3 4 8 12;2 11 10 16;1 7 6 15;5 9 13 14)]
T[(2;(1 2;3 4;5 6));(4 6;2 5;1 3)]
T[(1;(1 1;2 2;3 3));(1 2;1 3;2 3)]
T[(3;(0 3 2 5;6 5 1 4;9 2 8 0;2 1 3 7;1 5 8 1;8 3 3 1;5 5 4 2));(5 4 0 7;2 3 8 1;3 8 3 1;0 1 3 2;6 5 5 4;9 2 1 5;2 1 8 5)]
